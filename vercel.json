{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/next"
    },
    {
      "src": "server/package.json",
      "use": "@vercel/node"
    }
  ],
  "rewrites": [
    {
      "source": "/api/:path*",
      "destination": "/server/dist/index.js"
    }
  ],
  "env": {
    "DATABASE_URL": "DATABASE_URL",
    "MOYSKLAD_TOKEN": "MOYSKLAD_TOKEN",
    "MOYSKLAD_ENDPOINT": "MOYSKLAD_ENDPOINT",
    "MOYSKLAD_STORE_ID": "MOYSKLAD_STORE_ID",
    "MOYSKLAD_ORGANIZATION_ID": "MOYSKLAD_ORGANIZATION_ID",
    "NEXT_PUBLIC_MOYSKLAD_TOKEN": "MOYSKLAD_TOKEN",
    "NEXT_PUBLIC_MOYSKLAD_API_TOKEN": "MOYSKLAD_TOKEN",
    "TELEGRAM_BOT_TOKEN": "TELEGRAM_BOT_TOKEN",
    "TELEGRAM_BOT_USERNAME": "TELEGRAM_BOT_USERNAME",
    "TELEGRAM_SECRET_KEY": "TELEGRAM_SECRET_KEY",
    "NEXT_PUBLIC_TELEGRAM_BOT_TOKEN": "TELEGRAM_BOT_TOKEN",
    "NEXT_PUBLIC_TELEGRAM_SECRET_KEY": "TELEGRAM_SECRET_KEY",
    "NEXT_PUBLIC_TELEGRAM_BOT_USERNAME": "TELEGRAM_BOT_USERNAME",
    "NEXT_PUBLIC_WEBAPP_URL": "NEXT_PUBLIC_WEBAPP_URL",
    "NODE_ENV": "production",
    "NEXT_PUBLIC_CACHE_TTL_PRODUCTS": "3600",
    "NEXT_PUBLIC_CACHE_TTL_CATEGORIES": "86400",
    "NEXT_PUBLIC_CACHE_TTL_STOCK": "300",
    "NEXT_PUBLIC_CACHE_TTL_IMAGES": "86400",
    "NEXT_PUBLIC_API_URL": "https://navalivai20.vercel.app/api",
    "NEXT_PUBLIC_WS_URL": "wss://navalivai20.vercel.app/api/ws",
    "NEXT_PUBLIC_1C_URL": "https://navaliva.1c-bitrix.ru/rest/1/",
    "NEXT_PUBLIC_1C_USER": "navaliva",
    "NEXT_PUBLIC_1C_PASSWORD": "navaliva"
  },
  "regions": ["fra1"],
  "buildCommand": "npm run build:all",
  "installCommand": "npm install",
  "framework": "nextjs"
} 