{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/next"
    },
    {
      "src": "server/package.json",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "server/dist/index.js"
    },
    {
      "src": "/(.*)",
      "dest": "dist/$1"
    }
  ],
  "env": {
    "MOYSKLAD_TOKEN": "MOYSKLAD_TOKEN",
    "NEXT_PUBLIC_MOYSKLAD_TOKEN": "MOYSKLAD_TOKEN",
    "NEXT_PUBLIC_MOYSKLAD_API_TOKEN": "MOYSKLAD_TOKEN",
    "SUPABASE_ANON_KEY": "NEXT_PUBLIC_SUPABASE_ANON_KEY",
    "SUPABASE_SERVICE_ROLE_KEY": "SUPABASE_SERVICE_ROLE_KEY",
    "SUPABASE_URL": "SUPABASE_URL",
    "NEXT_PUBLIC_SUPABASE_URL": "SUPABASE_URL",
    "TELEGRAM_BOT_TOKEN": "TELEGRAM_BOT_TOKEN",
    "TELEGRAM_BOT_USERNAME": "TELEGRAM_BOT_USERNAME",
    "TELEGRAM_SECRET_KEY": "TELEGRAM_SECRET_KEY",
    "NEXT_PUBLIC_TELEGRAM_BOT_TOKEN": "TELEGRAM_BOT_TOKEN",
    "NEXT_PUBLIC_TELEGRAM_SECRET_KEY": "TELEGRAM_SECRET_KEY",
    "NEXT_PUBLIC_TELEGRAM_BOT_USERNAME": "TELEGRAM_BOT_USERNAME",
    "NEXT_PUBLIC_WEBAPP_URL": "NEXT_PUBLIC_WEBAPP_URL",
    "NEXTAUTH_URL": "NEXTAUTH_URL",
    "NEXTAUTH_SECRET": "NEXTAUTH_SECRET",
    "DATABASE_URL": "DATABASE_URL",
    "DIRECT_URL": "DIRECT_URL",
    "NODE_ENV": "production",
    "NEXT_PUBLIC_CACHE_TTL_PRODUCTS": "3600",
    "NEXT_PUBLIC_CACHE_TTL_CATEGORIES": "86400",
    "NEXT_PUBLIC_CACHE_TTL_STOCK": "300",
    "NEXT_PUBLIC_CACHE_TTL_IMAGES": "86400"
  },
  "regions": ["fra1"],
  "buildCommand": "npm run build:all",
  "installCommand": "npm install",
  "framework": "nextjs"
} 