# Развертывание на Vercel

## Подготовка

1. Установите [Vercel CLI](https://vercel.com/cli):
```bash
npm install -g vercel
```

2. Войдите в свой аккаунт Vercel:
```bash
vercel login
```

## Настройка переменных окружения

1. Создайте проект на Vercel:
```bash
vercel
```

2. Перейдите в настройки проекта в Vercel
3. Откройте раздел "Environment Variables"
4. Добавьте следующие переменные:

```env
MOYSKLAD_TOKEN=ваш_токен_мойсклад
MOYSKLAD_API_URL=https://api.moysklad.ru/api/remap/1.2
NEXT_PUBLIC_API_URL=https://ваш-домен.vercel.app
DATABASE_URL=ваш_url_базы_данных
DIRECT_URL=ваш_direct_url
NEXTAUTH_URL=https://ваш-домен.vercel.app
NEXTAUTH_SECRET=ваш_секрет
NEXT_PUBLIC_SUPABASE_URL=ваш_url_supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=ваш_ключ_supabase
```

## Развертывание

1. Убедитесь, что все изменения закоммичены в репозиторий.

2. Запустите развертывание:
```bash
vercel --prod
```

## Проверка

1. После развертывания проверьте, что все работает корректно:
   - Авторизация через Telegram
   - Синхронизация с МойСклад
   - Работа с заказами

2. Проверьте логи на Vercel:
```bash
vercel logs
```

## Обновление

Для обновления приложения просто закоммитьте изменения и запустите:
```bash
vercel --prod
```

## Устранение неполадок

1. Если возникают проблемы с базой данных:
   - Проверьте правильность `DATABASE_URL`
   - Убедитесь, что база данных доступна из Vercel

2. Если проблемы с авторизацией:
   - Проверьте `NEXTAUTH_URL` и `NEXTAUTH_SECRET`
   - Убедитесь, что домен добавлен в настройках Telegram Bot

3. Если проблемы с МойСклад:
   - Проверьте `MOYSKLAD_API_TOKEN`
   - Убедитесь, что токен имеет необходимые права

## Проверка работоспособности

После деплоя проверьте:

1. Доступность главной страницы
2. Загрузку товаров и категорий
3. Работу поиска
4. Корректность отображения изображений
5. Работу корзины

## Мониторинг ошибок

1. Проверяйте логи в Vercel
2. Следите за ошибками в консоли браузера
3. Проверяйте статус API МойСклад

## Обновление данных

При необходимости обновления данных:

1. Проверьте токен МойСклад
2. Убедитесь, что все переменные окружения актуальны
3. Перезапустите деплой при необходимости 